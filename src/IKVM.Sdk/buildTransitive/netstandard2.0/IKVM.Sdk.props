<Project TreatAsLocalProperty="TaskFolder;TaskAssembly">
    
    <PropertyGroup>
        <IkvmSdkDir>$(MSBuildThisFileDirectory)..\..\</IkvmSdkDir>
        <IkvmSdkVersion>$([System.IO.File]::ReadAllText('$(IkvmSdkDir)VERSION'))</IkvmSdkVersion>
    </PropertyGroup>

    <PropertyGroup>
        <IkvmSdkTaskFolder Condition=" '$(MSBuildRuntimeType)' == 'Core' ">net6.0</IkvmSdkTaskFolder>
        <IkvmSdkTaskFolder Condition=" '$(MSBuildRuntimeType)' != 'Core' ">net472</IkvmSdkTaskFolder>
        <IkvmSdkTaskAssembly>$(IkvmSdkDir)tasks\$(IkvmSdkTaskFolder)\IKVM.Sdk.Tasks.dll</IkvmSdkTaskAssembly>
    </PropertyGroup>

    <UsingTask TaskName="IkvmCompiler" AssemblyFile="$(IkvmSdkTaskAssembly)" />
    <UsingTask TaskName="IkvmCalculateMD5" AssemblyFile="$(IkvmSdkTaskAssembly)" />
    <UsingTask TaskName="IkvmAssignJavaReferenceItemMetadata" AssemblyFile="$(IkvmSdkTaskAssembly)" />
    <UsingTask TaskName="IkvmAssignJavaReferenceItemIdentity" AssemblyFile="$(IkvmSdkTaskAssembly)" />
    <UsingTask TaskName="IkvmSortJavaReferenceItem" AssemblyFile="$(IkvmSdkTaskAssembly)" />
    <UsingTask TaskName="IkvmValidateJavaReferenceItem" AssemblyFile="$(IkvmSdkTaskAssembly)" />

    <ItemDefinitionGroup>
        <JavaReference>
            <AssemblyName></AssemblyName>
            <AssemblyVersion></AssemblyVersion>
            <Compile></Compile>
            <Sources></Sources>
            <Debug></Debug>
            <Aliases></Aliases>
            <References></References>
        </JavaReference>
    </ItemDefinitionGroup>

</Project>
