<Project TreatAsLocalProperty="TaskFolder;TaskAssembly">
    
    <PropertyGroup>
        <IkvmSdkDir>$(MSBuildThisFileDirectory)..\..\</IkvmSdkDir>
        <IkvmSdkVersion>$([System.IO.File]::ReadAllText('$(IkvmSdkDir)VERSION'))</IkvmSdkVersion>
        <IkvmUserDir>$([MSBuild]::EnsureTrailingSlash('$([System.Environment]::GetFolderPath(SpecialFolder.UserProfile))'))</IkvmUserDir>
        <IkvmHomeDir>$(IkvmUserDir).ikvm\</IkvmHomeDir>
    </PropertyGroup>

    <PropertyGroup>
        <TaskFolder Condition=" '$(MSBuildRuntimeType)' == 'Core' ">net6.0</TaskFolder>
        <TaskFolder Condition=" '$(MSBuildRuntimeType)' != 'Core' ">net472</TaskFolder>
        <TaskAssembly>$(IkvmSdkDir)tasks\$(TaskFolder)\IKVM.Sdk.Tasks.dll</TaskAssembly>
    </PropertyGroup>

    <UsingTask TaskName="IkvmCompiler" AssemblyFile="$(TaskAssembly)" />
    <UsingTask TaskName="IkvmCalculateMD5" AssemblyFile="$(TaskAssembly)" />
    <UsingTask TaskName="IkvmAssignJavaReferenceItemMetadata" AssemblyFile="$(TaskAssembly)" />
    <UsingTask TaskName="IkvmAssignJavaReferenceItemIdentity" AssemblyFile="$(TaskAssembly)" />
    <UsingTask TaskName="IkvmSortJavaReferenceItem" AssemblyFile="$(TaskAssembly)" />

    <ItemDefinitionGroup>
        <JavaReference>
            <AssemblyName></AssemblyName>
            <AssemblyVersion></AssemblyVersion>
            <Compile></Compile>
            <Sources></Sources>
            <Debug></Debug>
            <Aliases></Aliases>
            <References></References>
        </JavaReference>
    </ItemDefinitionGroup>

</Project>
